<!doctype html>
<!--
README (Definition of Done + Manual Tests)

DoD:
- Dark UI bez audio; brak tre≈õci dos≈Çownych; modularny kod (HTML/CSS + ma≈Çy JS)
- Ankieta: suwak nastroju + toggle komfortu; zapis do localStorage.moodSurvey
- Supervisor Prompt: modal z textarea; zapis do localStorage.supervisorPrompt
- St√≥≈Ç gry: rewers karty, teaser (visibleHint), modal z prywatnƒÖ instrukcjƒÖ
- Przyciski üëç/üëé zapisujƒÖ rating do localStorage.cardLikes / .cardDislikes
- Loader kart: fetch ./cards.json, losowanie drawCard(filter) po difficulty/series

Testy rƒôczne (skr√≥t):
1) Otw√≥rz stronƒô ‚Üí zobacz ciemny interfejs, suwak, toggle, przycisk Supervisor Prompt
2) Ustaw suwak i toggle ‚Üí Od≈õwie≈º stronƒô ‚Üí warto≈õci wczytane (localStorage.moodSurvey)
3) Otw√≥rz Supervisor Prompt, wpisz tre≈õƒá ‚Üí Zapisz ‚Üí Od≈õwie≈º ‚Üí tre≈õƒá wczytana (localStorage.supervisorPrompt)
4) Kliknij ‚ÄûDobierz kartƒô‚Äù (bez filtra) ‚Üí pojawia siƒô karta z ‚ÄûvisibleHint‚Äù + przycisk ‚ÄûPrywatna instrukcja‚Äù (modal)
5) Oce≈Ñ kartƒô üëç/üëé ‚Üí lokalny licznik ro≈õnie, a ID trafia do localStorage.cardLikes/cardDislikes
6) Filtr: ustaw ‚ÄûSeria‚Äù i ‚ÄûPoziom trudno≈õci‚Äù ‚Üí ‚ÄûDobierz kartƒô‚Äù losuje z dopasowaniem
7) Brak b≈Çƒôd√≥w w konsoli; UI responsywny (min-width ~360px)
-->
<html lang="pl">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Rozbieranie w Ciemno ‚Äî AI Edition (Prototype)</title>
    <link rel="stylesheet" href="./styles.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  </head>
  <body>
    <header class="app-header">
      <div class="container row between center">
        <h1 class="app-title">Rozbieranie w Ciemno ‚Äî <span class="accent">AI Edition</span></h1>
        <button id="btnSupervisor" class="btn btn-outline">Supervisor Prompt</button>
      </div>
    </header>

    <main class="container app-main">
      <!-- Ankieta -->
      <section class="card-section">
        <h2 class="section-title">Ankieta wstƒôpna</h2>
        <div class="survey-grid">
          <div class="survey-item">
            <label class="label" for="moodRange">Nastr√≥j: <span id="moodValue">5</span>/10</label>
            <input type="range" id="moodRange" min="1" max="10" step="1" value="5" />
          </div>
          <div class="survey-item">
            <label class="label" for="comfortToggle">Komfort eksploracji</label>
            <label class="toggle">
              <input type="checkbox" id="comfortToggle" />
              <span class="toggle-slider"></span>
            </label>
          </div>
          <div class="survey-actions">
            <button id="saveSurvey" class="btn">Zapisz ankietƒô</button>
          </div>
        </div>
      </section>

      <!-- St√≥≈Ç gry -->
      <section class="card-section">
        <h2 class="section-title">St√≥≈Ç gry</h2>
        <div class="filters row wrap gap">
          <div class="field">
            <label class="label" for="seriesSelect">Seria</label>
            <select id="seriesSelect">
              <option value="">Dowolna</option>
              <option value="alpha">Alpha</option>
              <option value="beta">Beta</option>
              <option value="gamma">Gamma</option>
            </select>
          </div>
          <div class="field">
            <label class="label" for="difficultySelect">Poziom trudno≈õci</label>
            <select id="difficultySelect">
              <option value="">Dowolny</option>
              <option value="easy">Easy</option>
              <option value="medium">Medium</option>
              <option value="hard">Hard</option>
            </select>
          </div>
          <button id="drawBtn" class="btn">Dobierz kartƒô</button>
        </div>

        <div class="table">
          <div class="card-back" aria-label="Rewers karty"></div>
          <div class="card-teaser">
            <div class="muted">Teaser:</div>
            <div id="visibleHint" class="teaser-text">‚Äî</div>
          </div>
          <div class="table-actions row gap">
            <button id="btnPrivate" class="btn btn-outline">Prywatna instrukcja</button>
            <button id="likeBtn" class="btn like">üëç <span id="likeCount">0</span></button>
            <button id="dislikeBtn" class="btn dislike">üëé <span id="dislikeCount">0</span></button>
          </div>
        </div>
      </section>
    </main>

    <!-- Modal: Supervisor Prompt -->
    <dialog id="supervisorModal" class="modal">
      <form method="dialog" class="modal-content" id="supervisorForm">
        <div class="modal-header row between center">
          <h3>Supervisor Prompt</h3>
          <button type="button" class="icon-btn" data-close>‚úï</button>
        </div>
        <div class="modal-body">
          <label class="label" for="supervisorText">Instrukcja dla AI (bez tre≈õci dos≈Çownych):</label>
          <textarea id="supervisorText" rows="6" placeholder="Napisz bezpiecznƒÖ instrukcjƒô przewodniƒÖ‚Ä¶"></textarea>
        </div>
        <div class="modal-footer row end gap">
          <button type="button" class="btn btn-outline" data-close>Anuluj</button>
          <button type="submit" class="btn">Zapisz</button>
        </div>
      </form>
    </dialog>

    <!-- Modal: Prywatna instrukcja karty -->
    <dialog id="privateModal" class="modal">
      <form method="dialog" class="modal-content">
        <div class="modal-header row between center">
          <h3>Prywatna instrukcja</h3>
          <button type="button" class="icon-btn" data-close>‚úï</button>
        </div>
        <div class="modal-body">
          <div id="privateInstruction" class="private-text">‚Äî</div>
          <div class="meta row gap muted" id="metaInfo"></div>
        </div>
        <div class="modal-footer row end gap">
          <button type="button" class="btn" data-close>Zamknij</button>
        </div>
      </form>
    </dialog>

    <footer class="app-footer">
      <div class="container muted">Prototype ‚Ä¢ Elegancki dark UI ‚Ä¢ Bez tre≈õci dos≈Çownych</div>
    </footer>

    <script src="./app.js" type="module"></script>
  </body>
  </html>


